# Funcionalidades de RenColombia - Listado Completo

**Ãšltima actualizaciÃ³n:** Diciembre 2024  
**VersiÃ³n MVP:** 1.0

---

## ğŸ“‹ Ãndice

1. [Funcionalidades Generales](#funcionalidades-generales)
2. [Para Inquilinos](#para-inquilinos)
3. [Para Propietarios](#para-propietarios)
4. [Para Inmobiliarias](#para-inmobiliarias)
5. [Sistema de Contratos Digitales](#sistema-de-contratos-digitales)
6. [AnÃ¡lisis de Precios](#anÃ¡lisis-de-precios)
7. [Sistema de Planes y Suscripciones](#sistema-de-planes-y-suscripciones)
8. [VerificaciÃ³n KYC](#verificaciÃ³n-kyc)
9. [MensajerÃ­a y ComunicaciÃ³n](#mensajerÃ­a-y-comunicaciÃ³n)
10. [Notificaciones](#notificaciones)
11. [Seguridad y Privacidad](#seguridad-y-privacidad)

---

## ğŸŒ Funcionalidades Generales

### AutenticaciÃ³n y Perfiles
- âœ… Registro de usuarios (email/password)
- âœ… Inicio de sesiÃ³n
- âœ… RecuperaciÃ³n de contraseÃ±a
- âœ… Restablecimiento de contraseÃ±a
- âœ… Perfiles de usuario personalizables
- âœ… Perfiles de inmobiliaria con logo y datos de empresa
- âœ… Roles: Inquilino, Propietario, Inmobiliaria

### BÃºsqueda y NavegaciÃ³n
- âœ… BÃºsqueda avanzada de inmuebles
- âœ… Filtros por:
  - Ciudad y barrio
  - Tipo de propiedad (apartamento, casa, local)
  - Rango de precio
  - Ãrea
  - NÃºmero de habitaciones y baÃ±os
- âœ… Mapa interactivo con ubicaciÃ³n aproximada
- âœ… Vista de lista y cards de propiedades
- âœ… PÃ¡gina de detalle completa de inmuebles
- âœ… NavegaciÃ³n por ciudades populares (BogotÃ¡, MedellÃ­n, Cali, etc.)

### Landing Page
- âœ… Hero section con bÃºsqueda integrada
- âœ… Propiedades destacadas
- âœ… Diferenciales de la plataforma (3 principales)
- âœ… SecciÃ³n "Para cada tipo de usuario"
- âœ… CÃ³mo funciona (4 pasos)
- âœ… AnÃ¡lisis de precios destacado
- âœ… CTA simplificado para planes

### GestiÃ³n de Contenido
- âœ… Sistema de favoritos
- âœ… ComparaciÃ³n de propiedades
- âœ… Intenciones de arrendamiento
- âœ… Requisitos de arrendamiento configurables
- âœ… VisualizaciÃ³n de requisitos por parte de inquilinos

---

## ğŸ‘¤ Para Inquilinos

### Plan Gratuito
- âœ… BÃºsqueda ilimitada de inmuebles
- âœ… Filtrar por ciudad, barrio, precio, tipo
- âœ… Ver detalles completos del inmueble
- âœ… Guardar inmuebles en favoritos
- âœ… Enviar mensajes de interÃ©s
- âœ… Contactar propietarios o inmobiliarias
- âœ… Usar chatbot LIA (modo bÃ¡sico)
- âœ… Crear perfil de usuario
- âœ… Ver requisitos de arrendamiento

### Plan PRO (Inquilino PRO)
- âœ… **Solicitar contratos digitales de arrendamiento**
- âœ… **VerificaciÃ³n de identidad (KYC)**
- âœ… **ComunicaciÃ³n directa dentro del contrato**
- âœ… **Mayor seguridad y menos fricciÃ³n**
- âœ… **Acceso a anÃ¡lisis de precios por zona**

### Funcionalidades EspecÃ­ficas
- âœ… Solicitud de contrataciÃ³n digital (requiere KYC)
- âœ… AprobaciÃ³n de contratos recibidos
- âœ… VisualizaciÃ³n de contratos activos
- âœ… MensajerÃ­a dentro de contratos
- âœ… VerificaciÃ³n KYC simulada (MVP)

---

## ğŸ  Para Propietarios

### Plan Gratuito
- âœ… Publicar 1 inmueble
- âœ… Visibilidad estÃ¡ndar en bÃºsquedas
- âœ… Recibir mensajes de interesados
- âœ… GestiÃ³n bÃ¡sica del inmueble
- âœ… Acceso al dashboard bÃ¡sico
- âœ… Ver mÃ©tricas bÃ¡sicas (visitas, favoritos)

### Plan PRO (Propietario PRO)
- âœ… **PublicaciÃ³n y visibilidad:**
  - Publicar hasta 5 inmuebles activos
  - Destacar hasta 5 inmuebles
  - Prioridad en resultados de bÃºsqueda
  
- âœ… **Inteligencia de precios:**
  - AnÃ¡lisis de precio por zona (ciudad y barrio)
  - Precio recomendado al publicar
  - ComparaciÃ³n con el mercado local
  - Acceso completo al mÃ³dulo de inteligencia
  
- âœ… **MÃ©tricas y control:**
  - MÃ©tricas bÃ¡sicas: visitas y favoritos por inmueble
  
- âœ… **ContrataciÃ³n digital:**
  - RecepciÃ³n de solicitudes de contrato verificadas
  - GeneraciÃ³n de contratos digitales
  - Bloqueo automÃ¡tico del inmueble durante contrataciÃ³n
  - MensajerÃ­a segura y trazable con inquilinos

### Funcionalidades EspecÃ­ficas
- âœ… PublicaciÃ³n de inmuebles con:
  - TÃ­tulo, descripciÃ³n, tipo, precio
  - UbicaciÃ³n (ciudad, barrio, direcciÃ³n aproximada)
  - CaracterÃ­sticas (Ã¡rea, habitaciones, baÃ±os, parqueadero)
  - MÃºltiples fotos
  - Requisitos de arrendamiento configurables
  
- âœ… GestiÃ³n de propiedades:
  - Activar/desactivar inmuebles
  - Editar informaciÃ³n
  - Ver solicitudes de contrato
  - Ver contratos activos
  
- âœ… Editor de contratos:
  - GeneraciÃ³n automÃ¡tica con templates
  - EdiciÃ³n de contenido del contrato
  - Reemplazo de variables (nombre, direcciÃ³n, precio)
  - Guardado de borradores
  - EnvÃ­o de contratos a inquilinos
  
- âœ… Bloqueo automÃ¡tico:
  - Inmuebles con `status = 'locked_for_contract'` no visibles pÃºblicamente
  - Mensajes contextuales para participantes y no participantes

---

## ğŸ¢ Para Inmobiliarias

### Plan Gratuito
- âœ… Publicar hasta 3 inmuebles
- âœ… Perfil bÃ¡sico de inmobiliaria
- âœ… GestiÃ³n bÃ¡sica de inmuebles
- âœ… Recibir mensajes de interesados
- âœ… Dashboard bÃ¡sico (lista, estado)
- âœ… Visibilidad estÃ¡ndar en bÃºsquedas

### Plan PRO (Inmobiliaria PRO)
- âœ… **GestiÃ³n y escala:**
  - PublicaciÃ³n de inmuebles ilimitados
  - GestiÃ³n centralizada de propiedades
  - Control de estados y contratos desde un solo dashboard
  
- âœ… **Visibilidad y marca:**
  - Destacar hasta 100 inmuebles al mes
  - Marca destacada frente a usuarios finales
  - Visibilidad prioritaria en resultados de bÃºsqueda
  
- âœ… **Inteligencia y analÃ­tica avanzada:**
  - AnÃ¡lisis de precios premium por zona
  - AnalÃ­ticas detalladas de desempeÃ±o
  - Dashboard avanzado con mÃ©tricas clave
  - Acceso a histÃ³ricos de precios y actividad
  - ExportaciÃ³n de reportes para uso interno
  
- âœ… **ContrataciÃ³n digital a escala:**
  - RecepciÃ³n de solicitudes de contrato verificadas
  - GeneraciÃ³n y gestiÃ³n de contratos digitales
  - Bloqueo automÃ¡tico de inmuebles durante contrataciÃ³n
  - MensajerÃ­a segura y trazable con inquilinos
  
- âœ… **Soporte y acompaÃ±amiento:**
  - Soporte prioritario para operaciones crÃ­ticas

### Funcionalidades EspecÃ­ficas
- âœ… Perfil de inmobiliaria con:
  - Nombre de empresa
  - Logo
  - DescripciÃ³n
  - InformaciÃ³n de contacto
  
- âœ… GestiÃ³n centralizada de mÃºltiples inmuebles
- âœ… Mismas funcionalidades de contratos que propietarios
- âœ… Escalabilidad operativa

---

## ğŸ“„ Sistema de Contratos Digitales

### Flujo Completo
1. **Solicitud de Contrato (Inquilino PRO)**
   - Inquilino solicita contrato desde detalle de inmueble
   - Requiere KYC verificado
   - Propietario recibe notificaciÃ³n

2. **GeneraciÃ³n de Contrato (Propietario/Inmobiliaria PRO)**
   - Editor de contratos con templates predefinidos
   - GeneraciÃ³n automÃ¡tica con variables
   - EdiciÃ³n manual del contenido
   - Guardado de borradores
   - EnvÃ­o al inquilino

3. **AprobaciÃ³n de Contrato**
   - Inquilino recibe contrato para revisar
   - AprobaciÃ³n con disclaimer legal obligatorio
   - Propietario tambiÃ©n debe aprobar
   - Cambio de estado del contrato

4. **GestiÃ³n de Contratos**
   - Estados: draft, pending_tenant, pending_owner, approved, signed, active, cancelled, expired
   - Historial de cambios
   - VersiÃ³n actual del contrato

### CaracterÃ­sticas TÃ©cnicas
- âœ… Templates de contrato (estÃ¡ndar, simplificado, detallado)
- âœ… Reemplazo de variables: `{{tenant_name}}`, `{{landlord_name}}`, `{{property_address}}`, `{{monthly_price}}`
- âœ… Bloqueo automÃ¡tico de inmueble durante proceso
- âœ… MensajerÃ­a contextual dentro del contrato
- âœ… Notificaciones automÃ¡ticas en cada cambio de estado
- âœ… Badges de estado visuales
- âœ… Persistencia en base de datos con RLS

---

## ğŸ“Š AnÃ¡lisis de Precios

### Funcionalidades
- âœ… AnÃ¡lisis de precio por zona (ciudad y barrio)
- âœ… ComparaciÃ³n con mercado local
- âœ… Precio recomendado al publicar
- âœ… Badges de comparaciÃ³n ("Precio justo", "Por encima del mercado", etc.)
- âœ… EstadÃ­sticas:
  - Promedio
  - Mediana
  - Rango recomendado
  - Outliers identificados

### Acceso
- âœ… Plan PRO requerido para propietarios/inmobiliarias
- âœ… Plan PRO requerido para inquilinos
- âœ… IntegraciÃ³n con datos DANE (macro referencias)
- âœ… MÃºltiples fuentes de datos (marketplace propio + externas)

---

## ğŸ’³ Sistema de Planes y Suscripciones

### Planes Disponibles

#### Inquilinos
- **Plan Gratis:** BÃºsqueda y funcionalidades bÃ¡sicas
- **Plan PRO:** Contratos digitales, KYC, anÃ¡lisis de precios

#### Propietarios
- **Plan Gratis:** 1 inmueble, visibilidad estÃ¡ndar
- **Plan PRO:** Hasta 5 inmuebles, anÃ¡lisis de precios, contratos digitales

#### Inmobiliarias
- **Plan Gratis:** Hasta 3 inmuebles, gestiÃ³n bÃ¡sica
- **Plan PRO:** Inmuebles ilimitados, analÃ­tica avanzada, contratos digitales

### GestiÃ³n de Suscripciones
- âœ… VisualizaciÃ³n de plan activo
- âœ… PÃ¡gina de planes con comparaciÃ³n
- âœ… IntegraciÃ³n con Wompi (pagos)
- âœ… Checkout y confirmaciÃ³n de pago
- âœ… CancelaciÃ³n de suscripciÃ³n
- âœ… ExpiraciÃ³n automÃ¡tica de planes

### LÃ³gica de Visibilidad
- âœ… Usuarios PRO no ven CTAs de planes
- âœ… Beneficios PRO visibles solo para usuarios FREE
- âœ… Condicionales claras basadas en `plan_id.includes("_pro")`

---

## ğŸ” VerificaciÃ³n KYC

### Flujo Simulado (MVP)
- âœ… Modal de verificaciÃ³n KYC
- âœ… Checklist de pasos:
  1. Documento de identidad (frente)
  2. Documento de identidad (reverso)
  3. Selfie con documento
- âœ… Subida de archivos (simulada, URLs fake)
- âœ… ValidaciÃ³n de tipo de archivo y tamaÃ±o
- âœ… Cambio de estado a 'verified' al completar
- âœ… Requisito para solicitar contratos

### Tipos de Documento
- âœ… CÃ©dula de CiudadanÃ­a
- âœ… CÃ©dula de ExtranjerÃ­a
- âœ… Pasaporte

---

## ğŸ’¬ MensajerÃ­a y ComunicaciÃ³n

### MensajerÃ­a General
- âœ… Mensajes de interÃ©s entre inquilinos y propietarios
- âœ… Conversaciones por inmueble
- âœ… Notificaciones de nuevos mensajes
- âœ… Cierre de conversaciones (propietarios)

### MensajerÃ­a de Contratos
- âœ… Mensajes dentro del contexto del contrato
- âœ… DiferenciaciÃ³n visual por tipo de remitente:
  - Mensajes del inquilino
  - Mensajes del propietario/inmobiliaria
  - Mensajes del sistema
- âœ… Timestamps legibles
- âœ… Orden cronolÃ³gico
- âœ… Persistencia en base de datos
- âœ… Deshabilitado para contratos cancelados/expirados

### Tipos de Mensaje
- âœ… Comentarios normales
- âœ… Solicitudes de cambio
- âœ… Aprobaciones/rechazos
- âœ… Mensajes del sistema

---

## ğŸ”” Notificaciones

### Tipos de NotificaciÃ³n
- âœ… Nuevos mensajes
- âœ… Nuevas solicitudes de contrato
- âœ… Cambios de estado en contratos:
  - `contract_started`
  - `contract_pending_approval`
  - `contract_approved`
  - `contract_cancelled`
- âœ… Nuevos favoritos
- âœ… Respuestas a mensajes
- âœ… Actualizaciones de propiedades

### Sistema de Notificaciones
- âœ… Campana de notificaciones en navbar
- âœ… Lista de notificaciones no leÃ­das
- âœ… Marcar como leÃ­do
- âœ… Contador de no leÃ­das
- âœ… Notificaciones en tiempo real (Supabase Realtime)

---

## ğŸ›¡ï¸ Seguridad y Privacidad

### AutenticaciÃ³n
- âœ… Supabase Auth con email/password
- âœ… Row Level Security (RLS) en todas las tablas
- âœ… ValidaciÃ³n de permisos en backend
- âœ… ProtecciÃ³n de rutas con `ProtectedRoute`

### Privacidad
- âœ… PÃ¡gina de privacidad
- âœ… PÃ¡gina de tÃ©rminos y condiciones
- âœ… PÃ¡gina de tratamiento de datos
- âœ… PolÃ­ticas claras y accesibles

### Validaciones
- âœ… VerificaciÃ³n de plan PRO para funcionalidades avanzadas
- âœ… VerificaciÃ³n de KYC para solicitudes de contrato
- âœ… ValidaciÃ³n de participantes en contratos
- âœ… ValidaciÃ³n de propiedad de inmuebles

---

## ğŸ¤– Chatbot LIA

### Funcionalidades
- âœ… Avatar animado de LIA
- âœ… Panel de chat flotante
- âœ… Respuestas a preguntas frecuentes
- âœ… IntegraciÃ³n con bÃºsqueda de propiedades
- âœ… Modo bÃ¡sico (gratis) y avanzado (PRO)

---

## ğŸ“± PÃ¡ginas y Rutas

### PÃºblicas
- `/` - Landing page
- `/buscar` - BÃºsqueda de inmuebles
- `/inmueble/:id` - Detalle de inmueble
- `/publicador/:id` - Perfil de publicador
- `/planes` - PÃ¡gina de planes
- `/auth` - AutenticaciÃ³n
- `/forgot-password` - Recuperar contraseÃ±a
- `/reset-password` - Restablecer contraseÃ±a
- `/terminos` - TÃ©rminos y condiciones
- `/privacidad` - PolÃ­tica de privacidad
- `/datos` - Tratamiento de datos
- `/ayuda` - Centro de ayuda
- `/reportar-problema` - Reportar problema

### Protegidas (requieren autenticaciÃ³n)
- `/favoritos` - Lista de favoritos
- `/publicar` - Publicar inmueble
- `/mis-inmuebles` - GestiÃ³n de propiedades
- `/mensajes` - MensajerÃ­a
- `/comparar` - Comparar propiedades
- `/perfil` - Perfil de usuario
- `/precios` - AnÃ¡lisis de precios (PRO)
- `/seguros` - Seguros (PRO)
- `/intenciones` - Intenciones de arrendamiento
- `/contratos` - Lista de contratos
- `/contratos/:id` - Detalle de contrato
- `/checkout` - Proceso de pago
- `/checkout/confirm` - ConfirmaciÃ³n de pago

---

## ğŸ¨ Componentes UI Principales

### Contratos
- `ContractEditor` - Editor de contratos
- `ContractRequestModal` - Solicitud de contrato
- `ContractRequestsModal` - Lista de solicitudes
- `ContractDetail` - Detalle de contrato
- `ContractMessagesPanel` - Mensajes del contrato
- `ContractMessageInput` - Input para enviar mensajes
- `ContractStatusBadge` - Badge de estado
- `PropertyContractBadge` - Badge en propiedades
- `LegalDisclaimer` - Disclaimer legal reutilizable

### Propiedades
- `PropertyCard` - Card de propiedad
- `PropertyMap` - Mapa interactivo
- `RentalRequirementsModal` - Requisitos de arrendamiento
- `ViewRequirementsModal` - Ver requisitos

### Otros
- `KYCVerificationModal` - VerificaciÃ³n KYC
- `NotificationBell` - Campana de notificaciones
- `NotificationsList` - Lista de notificaciones
- `ChatbotButton` - BotÃ³n del chatbot
- `ChatbotPanel` - Panel del chatbot
- `PriceInsightsCard` - Card de anÃ¡lisis de precios
- `PriceComparisonBadge` - Badge de comparaciÃ³n
- `PriceRecommendationCard` - RecomendaciÃ³n de precio

---

## ğŸ”§ Servicios Backend

- `subscriptionService` - GestiÃ³n de planes y suscripciones
- `rentalContractService` - GestiÃ³n de contratos
- `contractRequestService` - Solicitudes de contrato
- `contractMessageService` - MensajerÃ­a de contratos
- `kycService` - VerificaciÃ³n KYC
- `priceInsightsService` - AnÃ¡lisis de precios
- `messagingService` - MensajerÃ­a general
- `notificationService` - Notificaciones
- `daneService` - IntegraciÃ³n con DANE
- `wompiService` - IntegraciÃ³n de pagos
- `insuranceService` - GestiÃ³n de seguros
- `intentionService` - Intenciones de arrendamiento
- `rentalRequirementsService` - Requisitos de arrendamiento
- `supportService` - Soporte y reportes

---

## ğŸ“ˆ Estado Actual (MVP)

### âœ… Implementado y Funcional
- Sistema completo de contratos digitales
- VerificaciÃ³n KYC simulada
- AnÃ¡lisis de precios por zona
- Sistema de planes y suscripciones
- MensajerÃ­a contextual por contrato
- Bloqueo automÃ¡tico de inmuebles
- Notificaciones automÃ¡ticas
- Landing page simplificado
- GestiÃ³n completa de propiedades

### ğŸš§ Pendiente para v2
- Pagos reales de planes PRO
- VerificaciÃ³n KYC real (con APIs externas)
- Firmas electrÃ³nicas avanzadas
- Documentos adjuntos en contratos
- Templates avanzados de contratos
- Versionado visual avanzado
- WebSockets para tiempo real
- AnalÃ­ticas avanzadas y reportes
- Recordatorios automÃ¡ticos
- IntegraciÃ³n notarial

---

## ğŸ“ Notas TÃ©cnicas

- **Stack:** React + TypeScript + Vite
- **UI:** shadcn/ui + Tailwind CSS
- **Backend:** Supabase (PostgreSQL + Auth + Realtime)
- **Pagos:** Wompi (integraciÃ³n preparada)
- **Mapas:** Leaflet + OpenStreetMap
- **Estado:** React Query (TanStack Query)
- **Routing:** React Router v6

---

**Documento generado automÃ¡ticamente**  
**Ãšltima revisiÃ³n:** Diciembre 2024
